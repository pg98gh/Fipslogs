<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fipslogs - A Kubernetes Monitoring Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f9;
        }
        header {
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            text-align: center;
        }
        section {
            margin: 20px 0;
        }
        h2 {
            color: #333;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .status-green {
            color: green;
        }
        .status-red {
            color: red;
        }
        footer {
            text-align: center;
            margin-top: 20px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>Kubernetes Monitoring Dashboard</h1>
        <p>Monitor CPU, Memory and Pod status in your K8s cluster.</p>
    </header>
    <!--
    first run in backend kubectl get namespaces and put result in dropdown to select namespace. Nodes of selected namespace should be shown as below. Also pods of namespace
    should be shown as default below. Add also yaml output of pod, when hovering over pod name and beneath more selection fields for k8s ressources 
    -->
    <h3>Select a Namespace</h3>
    <form action="/submit" method="post">
        <label for="namespace">Choose a Namespace:</label>
        <select id="namespace" name="namespace">
            <!-- Durchläuft die Liste der Früchte und erstellt für jede ein <option> -->
            {% for name in namespace %}
                <option value="{{ name }}">{{ name }}</option>
            {% endfor %}
        </select>
        <input type="submit" value="Submit">
    </form>

    <section id="nodes" class="hidden">
        <h2>Node Overview of Cluster</h2>
        <table>
            <thead>
                <tr>
                    <th>Node Name</th>
                    <th>CPU Usage</th>
                    <th>Memory Usage</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>node-1</td>
                    <td>250m / 2vCPU</td>
                    <td>1.2Gi / 8Gi</td>
                    <td class="status-green">Healthy</td>
                </tr>
                <tr>
                    <td>node-2</td>
                    <td>180m / 2vCPU</td>
                    <td>900Mi / 8Gi</td>
                    <td class="status-green">Healthy</td>
                </tr>
                <tr>
                    <td>node-3</td>
                    <td>350m / 2vCPU</td>
                    <td>2.3Gi / 8Gi</td>
                    <td class="status-red">Unhealthy</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="pods" class="hidden">
        <h2>Pod Overview (Namespace: default)</h2>
        <table>
            <thead>
                <tr>
                    <th>Pod Name</th>
                    <th>CPU Usage</th>
                    <th>Memory Usage</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>web-app-1</td>
                    <td>100m</td>
                    <td>150Mi</td>
                    <td class="status-green">Running</td>
                </tr>
                <tr>
                    <td>db-service-1</td>
                    <td>50m</td>
                    <td>200Mi</td>
                    <td class="status-green">Running</td>
                </tr>
                <tr>
                    <td>cache-1</td>
                    <td>30m</td>
                    <td>100Mi</td>
                    <td class="status-green">Running</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>Quick Actions</h2>
        <ul>
            <li><a href="https://your-cluster-api-endpoint/api/v1/nodes">View Node Details</a></li>
            <li><a href="https://your-cluster-api-endpoint/api/v1/namespaces/default/pods">View Pod Details</a></li>
            <li><a href="https://your-grafana-url.com">Open Grafana Dashboard</a></li>
            <li><a href="https://your-prometheus-url.com">Open Prometheus Metrics</a></li>
        </ul>
    </section>

    <footer>
        <p>© 2024 Kubernetes Monitoring Dashboard | Powered by Fipslogs</p>
    </footer>
    <script src="{{ url_for('static', filename='js/unhide.js') }}"></script>
</body>
</html>
